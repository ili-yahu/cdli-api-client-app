<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDLI API Client</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to the external CSS file -->
</head>
<body>
    <div class="title-rectangle">
        <h1 class="title">CDLI API CLIENT</h1>
    </div>    
    <input type="text" id="commandInput" placeholder="Enter your command here">
    <ul id="suggestions" style="display: none;"></ul>
    <div class="button-container">
        <div class="left-buttons">
            <button id="runButton">Run</button>
            <button id="clearButton">Clear</button>
            <button id="helpButton">Help</button>
        </div>
        <button id="selectFolderButton">Select Output Folder</button> <!-- This button will align to the right -->
    </div>
    <button id="darkModeToggle" aria-label="Toggle Dark Mode">ðŸŒ™</button>
    <button id="creditsButton">Credits</button>
    <pre id="output"></pre>
    <!-- Loading spinner -->
    <div id="loadingSpinner" class="spinner" style="display: none;"></div>
    <script src="renderer.js"></script>
    <!-- Help Modal Structure -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Help</h2>
            <p>Use the CDLI API Client by entering commands in the input box.</p>
            <h3>Commands:</h3>
            <pre class="command-list">
export - Export catalog and text data
search - Search artifacts in the catalog
            </pre>
            <h3>Options:</h3>
            <pre class="command-list">
--version          Show version number                  [boolean]
--host, -h         Host URL to use for API calls        [string] [default: "https://cdli.mpiwg-berlin.mpg.de/"]
--format, -f       File format                          [choices: "ndjson", "csv", "tsv", "ntriples", "bibtex", "atf"]
--output-file, -o  Output file (outputs to stdout by default)
--help             Show help                            [boolean]
--entities, -e     Which types of entities to fetch     [array]
                                                        [choices: "archives", "artifacts", "artifactsExternalResources", "artifactsMaterials", "collections", "dates", "dynasties", "genres", "inscriptions", "languages", "materials", "materialAspects", "materialColors", "periods", "proveniences", "publications", "regions", "rulers"]
            </pre>
            <h3>Export:</h3>
            <p>Export catalog and text data</p>
            <pre class="command-list">
Options:
--version          Show version number                   [boolean]
--host, -h         Host URL to use for API calls         [string] [default: "https://cdli.mpiwg-berlin.mpg.de/"]
--format, -f       File format                           [choices: "ndjson", "csv", "tsv", "ntriples", "bibtex", "atf"]
--output-file, -o  Output file (outputs to stdout by default)
--help             Show help                             [boolean]
--entities, -e     Which types of entities to fetch      [array]
                                                         [choices: "archives", "artifacts", "artifactsExternalResources", "artifactsMaterials", "collections", "dates", "dynasties", "genres", "inscriptions", "languages", "materials", "materialAspects", "materialColors", "periods", "proveniences", "publications", "regions", "rulers"]
            </pre>
            <h3>Search:</h3>
            <p>Search artifacts in the catalog</p>
            <pre class="command-list">
Simple search:
-q, --query                Search query                   [array]
    --queryCategory, --qc  Search category                [array]
                                                          [choices: "keyword", "publication", "collection", "provenience", "period", "transliteration", "translation", "id"]
    --queryOperator, --qo  Search operator                [array]
                                                          [choices: "AND", "OR"]
Advanced search:
    --advancedField, --af  Search field                   [array]
    --advancedQuery, --aq  Search query                   [array]
Filter:
    --filterField, --fk  Filter by field                  [array]
    --filterValue, --fv  Filter by value                  [array]
Options:
    --version      Show version number                    [boolean]
-h, --host         Host URL to use for API calls          [string] [default: "https://cdli.mpiwg-berlin.mpg.de/"]
-f, --format       File format                            [choices: "ndjson", "csv", "tsv", "ntriples", "bibtex", "atf"]
-o, --output-file  Output file (outputs to stdout by default)
    --help         Show help                              [boolean]
            </pre>
            <h3>Examples:</h3>
            <pre class="command-list">
search --filterField period --filterValue "Old Assyrian (ca. 1950-1850 BC)"  --format csv --output-file OA_texts.cv

search --fk period --fv "Old Assyrian (ca. 1950-1850 BC)"  -f csv -o OA_texts.cv
            </pre>
        </div>
    </div>

    <!-- Credits Modal Structure -->
    <div id="creditsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Credits</h2>
            <p>This application was developed by IlÄ«-Yahu, with the assistance of ChatGPT-4 mini, a large language model providing ample code snippets and corrections.</p>
            <p>Original developer of the CDLI framework: Lars Willighagen.</p>
        </div>
    </div>
</body>
</html>
